{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///project/sandbox/user-workspace/src/app/page.tsx"],"sourcesContent":["\"use client\";\n\nimport React, { useState } from \"react\";\n\nexport default function HomePage() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [manuscriptFile, setManuscriptFile] = useState<File | null>(null);\n  const [uploadStatus, setUploadStatus] = useState<string | null>(null);\n\n  const handleLogin = (e: React.FormEvent) => {\n    e.preventDefault();\n    // Basic mock login logic for MVP\n    if (email && password) {\n      setIsLoggedIn(true);\n      setUploadStatus(null);\n    }\n  };\n\n  const handleLogout = () => {\n    setIsLoggedIn(false);\n    setEmail(\"\");\n    setPassword(\"\");\n    setManuscriptFile(null);\n    setUploadStatus(null);\n  };\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    if (e.target.files && e.target.files.length > 0) {\n      setManuscriptFile(e.target.files[0]);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!manuscriptFile) {\n      setUploadStatus(\"Por favor, selecciona un archivo para subir.\");\n      return;\n    }\n    setUploadStatus(\"Subiendo y procesando el manuscrito...\");\n\n    const formData = new FormData();\n    formData.append(\"manuscript\", manuscriptFile);\n\n    try {\n      const response = await fetch(\"/api/upload\", {\n        method: \"POST\",\n        body: formData,\n      });\n      if (response.ok) {\n        const data = await response.json();\n        setUploadStatus(\"Libro generado con éxito. Descarga: \" + data.downloadUrl);\n      } else {\n        setUploadStatus(\"Error al procesar el manuscrito.\");\n      }\n    } catch (error) {\n      setUploadStatus(\"Error de red al subir el archivo.\");\n    }\n  };\n\n  return (\n    <div className=\"max-w-3xl mx-auto\">\n      {!isLoggedIn ? (\n        <form onSubmit={handleLogin} className=\"space-y-4\">\n          <h2 className=\"text-2xl font-semibold mb-4\">Iniciar sesión</h2>\n          <input\n            type=\"email\"\n            placeholder=\"Correo electrónico\"\n            value={email}\n            onChange={(e) => setEmail(e.target.value)}\n            className=\"w-full p-2 border border-gray-300 rounded\"\n            required\n          />\n          <input\n            type=\"password\"\n            placeholder=\"Contraseña\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n            className=\"w-full p-2 border border-gray-300 rounded\"\n            required\n          />\n          <button\n            type=\"submit\"\n            className=\"w-full bg-black text-white py-2 rounded hover:bg-gray-800 transition\"\n          >\n            Entrar\n          </button>\n        </form>\n      ) : (\n        <div className=\"space-y-6\">\n          <div className=\"flex justify-between items-center\">\n            <h2 className=\"text-2xl font-semibold\">Sube tu manuscrito</h2>\n            <button\n              onClick={handleLogout}\n              className=\"text-sm text-red-600 hover:underline\"\n            >\n              Cerrar sesión\n            </button>\n          </div>\n          <input\n            type=\"file\"\n            accept=\".docx,.txt\"\n            onChange={handleFileChange}\n            className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:text-sm file:font-semibold file:bg-black file:text-white hover:file:bg-gray-800 cursor-pointer\"\n          />\n          <button\n            onClick={handleUpload}\n            className=\"w-full bg-black text-white py-2 rounded hover:bg-gray-800 transition\"\n          >\n            Generar libro PDF\n          </button>\n          {uploadStatus && (\n            <p className=\"mt-4 text-center text-gray-700\">{uploadStatus}</p>\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;;;AAFA;;AAIe,SAAS;;IACtB,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,UAAU,YAAY,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACzC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,gBAAgB,kBAAkB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAe;IAClE,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAiB;IAEhE,MAAM,cAAc,CAAC;QACnB,EAAE,cAAc;QAChB,iCAAiC;QACjC,IAAI,SAAS,UAAU;YACrB,cAAc;YACd,gBAAgB;QAClB;IACF;IAEA,MAAM,eAAe;QACnB,cAAc;QACd,SAAS;QACT,YAAY;QACZ,kBAAkB;QAClB,gBAAgB;IAClB;IAEA,MAAM,mBAAmB,CAAC;QACxB,IAAI,EAAE,MAAM,CAAC,KAAK,IAAI,EAAE,MAAM,CAAC,KAAK,CAAC,MAAM,GAAG,GAAG;YAC/C,kBAAkB,EAAE,MAAM,CAAC,KAAK,CAAC,EAAE;QACrC;IACF;IAEA,MAAM,eAAe;QACnB,IAAI,CAAC,gBAAgB;YACnB,gBAAgB;YAChB;QACF;QACA,gBAAgB;QAEhB,MAAM,WAAW,IAAI;QACrB,SAAS,MAAM,CAAC,cAAc;QAE9B,IAAI;YACF,MAAM,WAAW,MAAM,MAAM,eAAe;gBAC1C,QAAQ;gBACR,MAAM;YACR;YACA,IAAI,SAAS,EAAE,EAAE;gBACf,MAAM,OAAO,MAAM,SAAS,IAAI;gBAChC,gBAAgB,yCAAyC,KAAK,WAAW;YAC3E,OAAO;gBACL,gBAAgB;YAClB;QACF,EAAE,OAAO,OAAO;YACd,gBAAgB;QAClB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;kBACZ,CAAC,2BACA,6LAAC;YAAK,UAAU;YAAa,WAAU;;8BACrC,6LAAC;oBAAG,WAAU;8BAA8B;;;;;;8BAC5C,6LAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;oBACxC,WAAU;oBACV,QAAQ;;;;;;8BAEV,6LAAC;oBACC,MAAK;oBACL,aAAY;oBACZ,OAAO;oBACP,UAAU,CAAC,IAAM,YAAY,EAAE,MAAM,CAAC,KAAK;oBAC3C,WAAU;oBACV,QAAQ;;;;;;8BAEV,6LAAC;oBACC,MAAK;oBACL,WAAU;8BACX;;;;;;;;;;;iCAKH,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;sCAAyB;;;;;;sCACvC,6LAAC;4BACC,SAAS;4BACT,WAAU;sCACX;;;;;;;;;;;;8BAIH,6LAAC;oBACC,MAAK;oBACL,QAAO;oBACP,UAAU;oBACV,WAAU;;;;;;8BAEZ,6LAAC;oBACC,SAAS;oBACT,WAAU;8BACX;;;;;;gBAGA,8BACC,6LAAC;oBAAE,WAAU;8BAAkC;;;;;;;;;;;;;;;;;AAM3D;GAlHwB;KAAA","debugId":null}}]
}